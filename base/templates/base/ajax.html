<script>

let checkArr = [];

//Form Clear
function clearForm(){
    $("form")[0].reset();
    $("#checkbox-select").html('Tags: ');
    $('input:checkbox').prop( "checked", false );
    checkArr = [];
}

$("#btnsave").click(function(){
        console.log("Save Button Clicked");
        let title = $("#titleid").val();
        let subject = $("#subjectid").val();
        let csr = $("input[name=csrfmiddlewaretoken]").val();
         checkArr = [];
         $(':checkbox:checked').each(function () {
        
        checkArr.push($(this).val());
       });

        let output = '';

        //console.log(title);
        //console.log(subject);

        noteData = {title: title, subject: subject, checkBox:JSON.stringify(checkArr)};
        console.log(noteData);

        $.ajax({

            url: "{% url 'save' %}",
            method: "POST",
            data: noteData,
            success: function(data){
               // console.log(data);
                notes = data.notes;

                if(data.status == 1){
                    notes = data.notes;

                    for(let i =0; i< notes.length; i++){
                        output += "<p>" + notes[i].title + "</p>";
                    }

                    $("#notetitle").html(output);
                    clearForm();
                    //$("form")[0].reset();
                    //$("#checkbox-select").html('Tags: ');

                }
                
            }
        });
        
});


//form clear
$("#btnclear").click(function(){
    clearForm();
    //console.log($('input:checkbox'));
});

//Check Box
$("input[type=checkbox]").click(function(){
   
    checkArr = [];
    let checkBoxOutput = 'Tags: ';

    $(':checkbox:checked').each(function () {
        checkBoxOutput += "<span>" + $(this).attr('name') + "</span> ";
        checkArr.push($(this).val());
       });

       $("#checkbox-select").html(checkBoxOutput);
       console.log(checkArr);
});


</script>